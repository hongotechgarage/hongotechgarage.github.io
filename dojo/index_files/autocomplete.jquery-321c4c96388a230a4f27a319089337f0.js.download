!function(t){function e(n){if(s[n])return s[n].exports;var i=s[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";t.exports=s(1)},function(t,e,s){"use strict";var n=s(2),i=s(3);n.element=i;var r=s(4);r.isArray=i.isArray,r.isFunction=i.isFunction,r.isObject=i.isPlainObject,r.bind=i.proxy,r.each=function(t,e){function s(t,s){return e(s,t)}i.each(t,s)},r.map=i.map,r.mixin=i.extend,r.Event=i.Event;var o,a,u,c=s(5),l=s(6);o=i.fn.autocomplete,a="aaAutocomplete",u={initialize:function(t,e){function s(){var s,n=i(this),r=new l({el:n});s=new c({input:n,eventBus:r,dropdownMenuContainer:t.dropdownMenuContainer,hint:t.hint===undefined||!!t.hint,minLength:t.minLength,autoselect:t.autoselect,openOnFocus:t.openOnFocus,templates:t.templates,debug:t.debug,cssClasses:t.cssClasses,datasets:e,keyboardShortcuts:t.keyboardShortcuts}),n.data(a,s)}return e=r.isArray(e)?e:[].slice.call(arguments,1),t=t||{},this.each(s)},open:function(){function t(){var t,e=i(this);(t=e.data(a))&&t.open()}return this.each(t)},close:function(){function t(){var t,e=i(this);(t=e.data(a))&&t.close()}return this.each(t)},val:function(t){function e(){var e,s=i(this);(e=s.data(a))&&e.setVal(t)}function s(t){var e,s;return(e=t.data(a))&&(s=e.getVal()),s}return arguments.length?this.each(e):s(this.first())},destroy:function(){function t(){var t,e=i(this);(t=e.data(a))&&(t.destroy(),e.removeData(a))}return this.each(t)}},i.fn.autocomplete=function(t){var e;return u[t]&&"initialize"!==t?(e=this.filter(function(){return!!i(this).data(a)}),u[t].apply(e,[].slice.call(arguments,1))):u.initialize.apply(this,arguments)},i.fn.autocomplete.noConflict=function(){return i.fn.autocomplete=o,this},i.fn.autocomplete.sources=c.sources,t.exports=i.fn.autocomplete},function(t){"use strict";t.exports={element:null}},function(t){t.exports=jQuery},function(t,e,s){"use strict";var n=s(2);t.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNumber:function(t){return"number"==typeof t},toStr:function(t){return t===undefined||null===t?"":t+""},cloneDeep:function(t){var e=this.mixin({},t),s=this;return this.each(e,function(t,n){t&&(s.isArray(t)?e[n]=[].concat(t):s.isObject(t)&&(e[n]=s.cloneDeep(t)))}),e},error:function(t){throw new Error(t)},every:function(t,e){var s=!0;return t?(this.each(t,function(n,i){if(!(s=e.call(null,n,i,t)))return!1}),!!s):s},any:function(t,e){var s=!1;return t?(this.each(t,function(n,i){if(e.call(null,n,i,t))return s=!0,!1}),s):s},getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(t){if(this.isFunction(t))return t;var e=n.element(t);return"SCRIPT"===e.prop("tagName")?function(){return e.text()}:function(){return String(t)}},defer:function(t){setTimeout(t,0)},noop:function(){},className:function(t,e,s){return(s?"":".")+t+"-"+e}}},function(t,e,s){"use strict";function n(t){var e,s,r;t=t||{},t.input||u.error("missing input"),this.isActivated=!1,this.debug=!!t.debug,this.autoselect=!!t.autoselect,this.openOnFocus=!!t.openOnFocus,this.minLength=u.isNumber(t.minLength)?t.minLength:1,this.cssClasses=t.cssClasses=u.mixin({},f.defaultClasses,t.cssClasses||{}),this.$node=i(t),e=this.$node.find(u.className(this.cssClasses.prefix,this.cssClasses.dropdownMenu)),s=this.$node.find(u.className(this.cssClasses.prefix,this.cssClasses.input)),r=this.$node.find(u.className(this.cssClasses.prefix,this.cssClasses.hint)),t.dropdownMenuContainer&&c.element(t.dropdownMenuContainer).css("position","relative").append(e.css("top","0")),s.on("blur.aa",function(t){var n=document.activeElement;u.isMsie()&&(e.is(n)||e.has(n).length>0)&&(t.preventDefault(),t.stopImmediatePropagation(),u.defer(function(){s.focus()}))}),e.on("mousedown.aa",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new l({el:s}),this.dropdown=new n.Dropdown({menu:e,datasets:t.datasets,templates:t.templates,cssClasses:this.cssClasses,minLength:this.minLength}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onSync("shown",this._onShown,this).onSync("empty",this._onEmpty,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new n.Input({input:s,hint:r}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._bindKeyboardShortcuts(s,t),this._setLanguageDirection()}function i(t){var e,s,n,i;e=c.element(t.input),s=c.element(d.wrapper.replace("%ROOT%",t.cssClasses.root)).css(f.wrapper),"block"===e.css("display")&&"table"===e.parent().css("display")&&s.css("display","table-cell");var o=d.dropdown.replace("%PREFIX%",t.cssClasses.prefix).replace("%DROPDOWN_MENU%",t.cssClasses.dropdownMenu);n=c.element(o).css(f.dropdown),t.templates&&t.templates.dropdownMenu&&n.html(u.templatify(t.templates.dropdownMenu)()),i=e.clone().css(f.hint).css(r(e)),i.val("").addClass(u.className(t.cssClasses.prefix,t.cssClasses.hint,!0)).removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.removeData&&i.removeData(),e.data(a,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(u.className(t.cssClasses.prefix,t.cssClasses.input,!0)).attr({autocomplete:"off",spellcheck:!1}).css(t.hint?f.input:f.inputWithNoHint);try{e.attr("dir")||e.attr("dir","auto")}catch(t){}return e.wrap(s).parent().prepend(t.hint?i:null).append(n)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t,e){var s=t.find(u.className(e.prefix,e.input));u.each(s.data(a),function(t,e){t===undefined?s.removeAttr(e):s.attr(e,t)}),s.detach().removeClass(u.className(e.prefix,e.input,!0)).insertAfter(t),s.removeData&&s.removeData(a),t.remove()}var a="aaAttrs",u=s(4),c=s(2),l=s(6),h=s(7),p=s(11),d=s(13),f=s(14);u.mixin(n.prototype,{_bindKeyboardShortcuts:function(t,e){if(e.keyboardShortcuts){var s=[];u.each(e.keyboardShortcuts,function(t){"string"==typeof t&&(t=t.toUpperCase().charCodeAt(0)),s.push(t)}),c.element(document).keydown(function(e){var n=e.target||e.srcElement,i=n.tagName;if(!n.isContentEditable&&"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i){var r=e.which||e.keyCode;s.indexOf(r)!==-1&&(t.focus(),e.stopPropagation(),e.preventDefault())}})}},_onSuggestionClicked:function(t,e){var s;(s=this.dropdown.getDatumForSuggestion(e))&&this._select(s)},_onCursorMoved:function(t,e){var s=this.dropdown.getDatumForCursor();s&&(e&&this.input.setInputValue(s.value,!0),this.eventBus.trigger("cursorchanged",s.raw,s.datasetName))},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint(),this.eventBus.trigger("updated")},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onEmpty:function(){this.eventBus.trigger("empty")},_onShown:function(){this.eventBus.trigger("shown"),this.autoselect&&this.dropdown.cursorTopSuggestion()},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){if(this.isActivated=!0,this.openOnFocus){var t=this.input.getQuery();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open()}},_onBlurred:function(){this.debug||(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close())},_onEnterKeyed:function(t,e){var s,n;s=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),s?(this._select(s),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var s;(s=this.dropdown.getDatumForCursor())?(this._select(s),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t=this.input.getLanguageDirection();this.dir!==t&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,s,n,i,r;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),s=h.normalizeQuery(e),n=u.escapeRegExChars(s),i=new RegExp("^(?:"+n+")(.+$)","i"),r=i.exec(t.value),r?this.input.setHint(e+r[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,s,n,i;e=this.input.getHint(),s=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&s!==e&&n&&(i=this.dropdown.getDatumForTopSuggestion(),i&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(t){"undefined"!=typeof t.value&&this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName).isDefaultPrevented()===!1&&(this.dropdown.close(),u.defer(u.bind(this.dropdown.empty,this.dropdown)))},open:function(){if(!this.isActivated){var t=this.input.getInputValue();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty()}this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=u.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node,this.cssClasses),this.$node=null}}),n.Dropdown=p,n.Input=h,n.sources=s(15),t.exports=n},function(t,e,s){"use strict";function n(t){t&&t.el||i.error("EventBus initialized without el"),this.$el=r.element(t.el)}var i=s(4),r=s(2);i.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1),s=i.Event("autocomplete:"+t);return this.$el.trigger(s,e),s}}),t.exports=n},function(t,e,s){"use strict";function n(t){var e,s,n,r,o=this;t=t||{},t.input||u.error("input is missing"),e=u.bind(this._onBlur,this),s=u.bind(this._onFocus,this),n=u.bind(this._onKeydown,this),r=u.bind(this._onInput,this),this.$hint=c.element(t.hint),this.$input=c.element(t.input).on("blur.aa",e).on("focus.aa",s).on("keydown.aa",n),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=u.noop),u.isMsie()?this.$input.on("keydown.aa keypress.aa cut.aa paste.aa",function(t){a[t.which||t.keyCode]||u.defer(u.bind(o._onInput,o,t))}):this.$input.on("input.aa",r),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return c.element('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};var u=s(4),c=s(2),l=s(8);n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},u.mixin(n.prototype,l,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var s,n,i;switch(t){case"tab":n=this.getHint(),i=this.getInputValue(),s=n&&n!==i&&!o(e);break;case"up":case"down":s=!o(e);break;default:s=!1}s&&e.preventDefault()},_shouldTrigger:function(t,e){var s;switch(t){case"tab":s=!o(e);break;default:s=!0}return s},_checkInputValue:function(){var t,e,s;t=this.getInputValue(),e=r(t,this.query),s=!(!e||!this.query)&&this.query.length!==t.length,this.query=t,e?s&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){void 0===t&&(t=this.query),this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,s,n;t=this.getInputValue(),e=this.getHint(),s=t!==e&&0===e.indexOf(t),(n=""!==t&&s&&!this.hasOverflow())||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,s;return t=this.$input.val().length,e=this.$input[0].selectionStart,u.isNumber(e)?e===t:!document.selection||(s=document.selection.createRange(),s.moveStart("character",-t),t===s.text.length)},destroy:function(){this.$hint.off(".aa"),this.$input.off(".aa"),this.$hint=this.$input=this.$overflowHelper=null}}),t.exports=n},function(t,e,s){(function(e){"use strict";function s(t,e,s,n){var i;if(!s)return this;for(e=e.split(l),s=n?c(s,n):s,this._callbacks=this._callbacks||{};i=e.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][t].push(s);return this}function n(t,e,n){return s.call(this,"async",t,e,n)}function i(t,e,n){return s.call(this,"sync",t,e,n)}function r(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function o(t){var e,s,n,i,r;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(s=this._callbacks[e]);)i=a(s.sync,this,[e].concat(n)),r=a(s.async,this,[e].concat(n)),i()&&h(r);return this}function a(t,e,s){function n(){for(var n,i=0,r=t.length;!n&&i<r;i+=1)n=t[i].apply(e,s)===!1;return!n}return n}function u(){return window.setImmediate?function(t){e(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function c(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,h=u();t.exports={onSync:i,onAsync:n,off:r,trigger:o}}).call(e,s(9).setImmediate)},function(t,e,s){(function(t,n){function i(t,e){this._id=t,this._clearFn=e}var r=s(10).nextTick,o=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var s=c++,n=!(arguments.length<2)&&a.call(arguments,1);return u[s]=!0,r(function(){u[s]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(s))}),s},e.clearImmediate="function"==typeof n?n:function(t){delete u[t]}}).call(e,s(9).setImmediate,s(9).clearImmediate)},function(t){function e(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function n(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===s||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function r(){f&&p&&(f=!1,p.length?d=p.concat(d):m=-1,d.length&&o())}function o(){if(!f){var t=n(r);f=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,f=!1,i(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var c,l,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(t){c=e}try{l="function"==typeof clearTimeout?clearTimeout:s}catch(t){l=s}}();var p,d=[],f=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];d.push(new a(t,e)),1!==d.length||f||n(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,s){"use strict";function n(t){var e,s,n,a=this;t=t||{},t.menu||r.error("menu is required"),r.isArray(t.datasets)||r.isObject(t.datasets)||r.error("1 or more datasets required"),t.datasets||r.error("datasets is required"),this.isOpen=!1,this.isEmpty=!0,this.minLength=t.minLength||0,this.cssClasses=r.mixin({},c.defaultClasses,t.cssClasses||{}),this.templates={},e=r.bind(this._onSuggestionClick,this),s=r.bind(this._onSuggestionMouseEnter,this),n=r.bind(this._onSuggestionMouseLeave,this);var u=r.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=o.element(t.menu).on("click.aa",u,e).on("mouseenter.aa",u,s).on("mouseleave.aa",u,n),t.templates&&t.templates.header&&(this.templates.header=r.templatify(t.templates.header),this.$menu.prepend(this.templates.header())),t.templates&&t.templates.empty&&(this.templates.empty=r.templatify(t.templates.empty),this.$empty=o.element('<div class="'+r.className(this.cssClasses.prefix,this.cssClasses.empty,!0)+'"></div>'),this.$menu.append(this.$empty)),this.datasets=r.map(t.datasets,function(e){return i(a.$menu,e,t.cssClasses)}),r.each(this.datasets,function(t){var e=t.getRoot();e&&0===e.parent().length&&a.$menu.append(e),t.onSync("rendered",a._onRendered,a)}),t.templates&&t.templates.footer&&(this.templates.footer=r.templatify(t.templates.footer),this.$menu.append(this.templates.footer()))}function i(t,e,s){return new n.Dataset(r.mixin({$menu:t,cssClasses:s},e))}var r=s(4),o=s(2),a=s(8),u=s(12),c=s(14);r.mixin(n.prototype,a,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",o.element(t.currentTarget))},_onSuggestionMouseEnter:function(t){var e=o.element(t.currentTarget);e.hasClass(r.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))||(this._removeCursor(),this._setCursor(e,!1))},_onSuggestionMouseLeave:function(t){if(t.relatedTarget){if(o.element(t.relatedTarget).closest("."+r.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).length>0)return}this._removeCursor(),this.trigger("cursorRemoved")},_onRendered:function(t,e){function s(t){return t.isEmpty()}function n(t){return t.templates&&t.templates.empty}if(this.isEmpty=r.every(this.datasets,s),this.isEmpty)if(e.length>=this.minLength&&this.trigger("empty"),this.$empty)if(e.length<this.minLength)this._hide();else{var i=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(i),this._show()}else r.any(this.datasets,n)?e.length<this.minLength?this._hide():this._show():this._hide();else this.isOpen&&(this.$empty&&this.$empty.empty(),e.length>=this.minLength?this._show():this._hide());this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block"),this.trigger("shown")},_getSuggestions:function(){return this.$menu.find(r.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function(){return this.$menu.find(r.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function(t,e){t.first().addClass(r.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)),this.trigger("cursorMoved",e)},_removeCursor:function(){this._getCursor().removeClass(r.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))},_moveCursor:function(t){var e,s,n,i;if(this.isOpen){if(s=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),n=e.index(s)+t,(n=(n+1)%(e.length+1)-1)===-1)return void this.trigger("cursorRemoved");n<-1&&(n=e.length-1),this._setCursor(i=e.eq(n),!0),this._ensureVisible(i)}},_ensureVisible:function(t){var e,s,n,i;e=t.position().top,s=e+t.height()+parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10),n=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),e<0?this.$menu.scrollTop(n+e):i<s&&this.$menu.scrollTop(n+(s-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:u.extractDatum(t),value:u.extractValue(t),datasetName:u.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function(){this._setCursor(this._getSuggestions().first(),!1)},update:function(t){function e(e){e.update(t)}r.each(this.datasets,e)},empty:function(){function t(t){t.clear()}r.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".aa"),this.$menu=null,r.each(this.datasets,t)}}),n.Dataset=u,t.exports=n},function(t,e,s){"use strict";function n(t){t=t||{},t.templates=t.templates||{},t.source||l.error("missing source"),t.name&&!o(t.name)&&l.error("invalid dataset name: "+t.name),this.query=null,this._isEmpty=!0,this.highlight=!!t.highlight,this.name="undefined"==typeof t.name||null===t.name?l.getUniqueId():t.name,this.source=t.source,this.displayFn=i(t.display||t.displayKey),this.templates=r(t.templates,this.displayFn),this.cssClasses=l.mixin({},d.defaultClasses,t.cssClasses||{});var e=l.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=t.$menu&&t.$menu.find(e+"-"+this.name).length>0?h.element(t.$menu.find(e+"-"+this.name)[0]):h.element(p.dataset.replace("%CLASS%",this.name).replace("%PREFIX%",this.cssClasses.prefix).replace("%DATASET%",this.cssClasses.dataset)),this.$menu=t.$menu}function i(t){function e(e){return e[t]}return t=t||"value",l.isFunction(t)?t:e}function r(t,e){function s(t){return"<p>"+e(t)+"</p>"}return{empty:t.empty&&l.templatify(t.empty),header:t.header&&l.templatify(t.header),footer:t.footer&&l.templatify(t.footer),suggestion:t.suggestion||s}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var a="aaDataset",u="aaValue",c="aaDatum",l=s(4),h=s(2),p=s(13),d=s(14),f=s(8);n.extractDatasetName=function(t){return h.element(t).data(a)},n.extractValue=function(t){return h.element(t).data(u)},n.extractDatum=function(t){var e=h.element(t).data(c);return"string"==typeof e&&(e=JSON.parse(e)),e},l.mixin(n.prototype,f,{_render:function(t,e){function s(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!0}].concat(e),f.templates.empty.apply(this,e)}function n(){function t(t){var e,s=p.suggestion.replace("%PREFIX%",r.cssClasses.prefix).replace("%SUGGESTION%",r.cssClasses.suggestion);return e=h.element(s).append(f.templates.suggestion.apply(this,[t].concat(i))),e.data(a,f.name),e.data(u,f.displayFn(t)||undefined),e.data(c,JSON.stringify(t)),e.children().each(function(){h.element(this).css(d.suggestionChild)}),e}var s,n,i=[].slice.call(arguments,0),r=this,o=p.suggestions.replace("%PREFIX%",this.cssClasses.prefix).replace("%SUGGESTIONS%",this.cssClasses.suggestions);return s=h.element(o).css(d.suggestions),n=l.map(e,t),s.append.apply(s,n),s}function i(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!o}].concat(e),f.templates.header.apply(this,e)}function r(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!o}].concat(e),f.templates.footer.apply(this,e)}if(this.$el){var o,f=this,m=[].slice.call(arguments,2);this.$el.empty(),o=e&&e.length,this._isEmpty=!o,!o&&this.templates.empty?this.$el.html(s.apply(this,m)).prepend(f.templates.header?i.apply(this,m):null).append(f.templates.footer?r.apply(this,m):null):o&&this.$el.html(n.apply(this,m)).prepend(f.templates.header?i.apply(this,m):null).append(f.templates.footer?r.apply(this,m):null),this.$menu&&this.$menu.addClass(this.cssClasses.prefix+"-"+(o?"with":"without")+"-"+this.name).removeClass(this.cssClasses.prefix+"-"+(o?"without":"with")+"-"+this.name),this.trigger("rendered",t)}},getRoot:function(){return this.$el},update:function(t){function e(e){if(!s.canceled&&t===s.query){var n=[].slice.call(arguments,1);n=[t,e].concat(n),s._render.apply(s,n)}}var s=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered","")},isEmpty:function(){return this._isEmpty},destroy:function(){this.$el=null}}),t.exports=n},function(t){"use strict";t.exports={wrapper:'<span class="%ROOT%"></span>',dropdown:'<span class="%PREFIX%-%DROPDOWN_MENU%"></span>',dataset:'<div class="%PREFIX%-%DATASET%-%CLASS%"></div>',suggestions:'<span class="%PREFIX%-%SUGGESTIONS%"></span>',suggestion:'<div class="%PREFIX%-%SUGGESTION%"></div>'}},function(t,e,s){"use strict";var n=s(4),i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:"0"},defaultClasses:{root:"algolia-autocomplete",prefix:"aa",dropdownMenu:"dropdown-menu",input:"input",hint:"hint",suggestions:"suggestions",suggestion:"suggestion",cursor:"cursor",dataset:"dataset",empty:"empty"}};n.isMsie()&&n.mixin(i.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&n.mixin(i.input,{marginTop:"-1px"}),t.exports=i},function(t,e,s){"use strict";t.exports={hits:s(16),popularIn:s(17)}},function(t,e,s){"use strict";var n=s(4);t.exports=function(t,e){function s(s,i){t.search(s,e,function(t,e){if(t)return void n.error(t.message);i(e.hits,e)})}return s}},function(t,e,s){"use strict";var n=s(4);t.exports=function(t,e,s,i){function r(r,u){t.search(r,e,function(t,e){if(t)return void n.error(t.message);if(e.hits.length>0){var r=e.hits[0],c=n.mixin({hitsPerPage:0},s);return delete c.source,delete c.index,void a.search(o(r),c,function(t,s){if(t)return void n.error(t.message);var o=[];if(i.includeAll){var a=i.allTitle||"All departments";o.push(n.mixin({facet:{value:a,count:s.nbHits}},n.cloneDeep(r)))}n.each(s.facets,function(t,e){n.each(t,function(t,s){o.push(n.mixin({facet:{facet:e,value:s,count:t}},n.cloneDeep(r)))})});for(var c=1;c<e.hits.length;++c)o.push(e.hits[c]);u(o,e)})}u([])})}if(!s.source)return n.error("Missing 'source' key");var o=n.isFunction(s.source)?s.source:function(t){return t[s.source]};if(!s.index)return n.error("Missing 'index' key");var a=s.index;return i=i||{},r}}]);